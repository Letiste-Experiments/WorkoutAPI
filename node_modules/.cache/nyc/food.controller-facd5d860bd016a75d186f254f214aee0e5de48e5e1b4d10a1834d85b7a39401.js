function cov_6r58q40j0(){var path="/home/leo/workout-api/api/controllers/food.controller.js";var hash="c46bda40f28399bd03157b9dbff719bf8fe5b9ec";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/food.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:6,column:0},end:{line:26,column:1}},"4":{start:{line:7,column:17},end:{line:7,column:39}},"5":{start:{line:8,column:19},end:{line:8,column:45}},"6":{start:{line:9,column:21},end:{line:9,column:57}},"7":{start:{line:10,column:2},end:{line:25,column:6}},"8":{start:{line:20,column:23},end:{line:20,column:66}},"9":{start:{line:21,column:6},end:{line:21,column:53}},"10":{start:{line:24,column:6},end:{line:24,column:50}},"11":{start:{line:28,column:0},end:{line:34,column:1}},"12":{start:{line:29,column:2},end:{line:33,column:23}},"13":{start:{line:31,column:6},end:{line:31,column:20}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:18},end:{line:6,column:19}},loc:{start:{line:6,column:32},end:{line:26,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:10},end:{line:19,column:11}},loc:{start:{line:19,column:29},end:{line:22,column:5}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:23,column:11},end:{line:23,column:12}},loc:{start:{line:23,column:18},end:{line:25,column:5}},line:23},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:18},end:{line:28,column:19}},loc:{start:{line:28,column:32},end:{line:34,column:1}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:10},end:{line:30,column:11}},loc:{start:{line:30,column:18},end:{line:32,column:5}},line:30}},branchMap:{"0":{loc:{start:{line:7,column:17},end:{line:7,column:39}},type:"binary-expr",locations:[{start:{line:7,column:17},end:{line:7,column:33}},{start:{line:7,column:37},end:{line:7,column:39}}],line:7},"1":{loc:{start:{line:8,column:19},end:{line:8,column:45}},type:"binary-expr",locations:[{start:{line:8,column:19},end:{line:8,column:37}},{start:{line:8,column:41},end:{line:8,column:45}}],line:8},"2":{loc:{start:{line:9,column:21},end:{line:9,column:57}},type:"binary-expr",locations:[{start:{line:9,column:21},end:{line:9,column:52}},{start:{line:9,column:56},end:{line:9,column:57}}],line:9},"3":{loc:{start:{line:20,column:23},end:{line:20,column:66}},type:"cond-expr",locations:[{start:{line:20,column:34},end:{line:20,column:62}},{start:{line:20,column:65},end:{line:20,column:66}}],line:20}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c46bda40f28399bd03157b9dbff719bf8fe5b9ec"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6r58q40j0=function(){return actualCoverage;};}return actualCoverage;}cov_6r58q40j0();const db=(cov_6r58q40j0().s[0]++,require("../models"));const Food=(cov_6r58q40j0().s[1]++,db.foods);const sequelize=(cov_6r58q40j0().s[2]++,require("sequelize"));cov_6r58q40j0().s[3]++;exports.findAll=(req,res)=>{cov_6r58q40j0().f[0]++;const search=(cov_6r58q40j0().s[4]++,(cov_6r58q40j0().b[0][0]++,req.query.search)||(cov_6r58q40j0().b[0][1]++,""));const pageSize=(cov_6r58q40j0().s[5]++,(cov_6r58q40j0().b[1][0]++,req.query.pageSize)||(cov_6r58q40j0().b[1][1]++,null));const pageNumber=(cov_6r58q40j0().s[6]++,(cov_6r58q40j0().b[2][0]++,req.query.pageNumber*pageSize)||(cov_6r58q40j0().b[2][1]++,0));cov_6r58q40j0().s[7]++;Food.findAndCountAll({limit:pageSize,offset:pageNumber,where:{name:sequelize.where(sequelize.fn('LOWER',sequelize.col('name')),'LIKE',search.toLowerCase()+'%')}}).then(({count,rows})=>{cov_6r58q40j0().f[1]++;const lastPage=(cov_6r58q40j0().s[8]++,pageSize?(cov_6r58q40j0().b[3][0]++,Math.floor(count/pageSize)):(cov_6r58q40j0().b[3][1]++,0));cov_6r58q40j0().s[9]++;res.send({data:[...rows],lastPage:lastPage});}).catch(err=>{cov_6r58q40j0().f[2]++;cov_6r58q40j0().s[10]++;res.status(500).send({message:err.message});});};cov_6r58q40j0().s[11]++;exports.findOne=(req,res)=>{cov_6r58q40j0().f[3]++;cov_6r58q40j0().s[12]++;Food.findByPk(req.params.id).then(data=>{cov_6r58q40j0().f[4]++;cov_6r58q40j0().s[13]++;res.send(data);}).catch(console.log);};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb2QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJGb29kIiwiZm9vZHMiLCJzZXF1ZWxpemUiLCJleHBvcnRzIiwiZmluZEFsbCIsInJlcSIsInJlcyIsInNlYXJjaCIsInF1ZXJ5IiwicGFnZVNpemUiLCJwYWdlTnVtYmVyIiwiZmluZEFuZENvdW50QWxsIiwibGltaXQiLCJvZmZzZXQiLCJ3aGVyZSIsIm5hbWUiLCJmbiIsImNvbCIsInRvTG93ZXJDYXNlIiwidGhlbiIsImNvdW50Iiwicm93cyIsImxhc3RQYWdlIiwiTWF0aCIsImZsb29yIiwic2VuZCIsImRhdGEiLCJjYXRjaCIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJmaW5kT25lIiwiZmluZEJ5UGsiLCJwYXJhbXMiLCJpZCIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI0K0ZBZVk7eUZBZlosS0FBTUEsQ0FBQUEsRUFBRSx5QkFBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSx5QkFBR0YsRUFBRSxDQUFDRyxLQUFOLENBQVYsQ0FDQSxLQUFNQyxDQUFBQSxTQUFTLHlCQUFHSCxPQUFPLENBQUMsV0FBRCxDQUFWLENBQWYsQyx1QkFHQUksT0FBTyxDQUFDQyxPQUFSLENBQWtCLENBQUNDLEdBQUQsQ0FBTUMsR0FBTixHQUFjLHdCQUM5QixLQUFNQyxDQUFBQSxNQUFNLHlCQUFHLDJCQUFBRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsTUFBViw4QkFBb0IsRUFBcEIsQ0FBSCxDQUFaLENBQ0EsS0FBTUUsQ0FBQUEsUUFBUSx5QkFBRywyQkFBQUosR0FBRyxDQUFDRyxLQUFKLENBQVVDLFFBQVYsOEJBQXNCLElBQXRCLENBQUgsQ0FBZCxDQUNBLEtBQU1DLENBQUFBLFVBQVUseUJBQUcsMkJBQUFMLEdBQUcsQ0FBQ0csS0FBSixDQUFVRSxVQUFWLENBQXVCRCxRQUF2Qiw4QkFBbUMsQ0FBbkMsQ0FBSCxDQUFoQixDQUg4Qix1QkFJOUJULElBQUksQ0FBQ1csZUFBTCxDQUFxQixDQUNuQkMsS0FBSyxDQUFFSCxRQURZLENBRW5CSSxNQUFNLENBQUVILFVBRlcsQ0FHbkJJLEtBQUssQ0FBRSxDQUNMQyxJQUFJLENBQUViLFNBQVMsQ0FBQ1ksS0FBVixDQUNKWixTQUFTLENBQUNjLEVBQVYsQ0FBYSxPQUFiLENBQXNCZCxTQUFTLENBQUNlLEdBQVYsQ0FBYyxNQUFkLENBQXRCLENBREksQ0FFSixNQUZJLENBRUlWLE1BQU0sQ0FBQ1csV0FBUCxHQUF1QixHQUYzQixDQURELENBSFksQ0FBckIsRUFTR0MsSUFUSCxDQVNRLENBQUMsQ0FBQ0MsS0FBRCxDQUFRQyxJQUFSLENBQUQsR0FBbUIsd0JBQ3ZCLEtBQU1DLENBQUFBLFFBQVEseUJBQUdiLFFBQVEsNEJBQUdjLElBQUksQ0FBQ0MsS0FBTCxDQUFXSixLQUFLLENBQUdYLFFBQW5CLENBQUgsNkJBQWtDLENBQWxDLENBQVgsQ0FBZCxDQUR1Qix1QkFFdkJILEdBQUcsQ0FBQ21CLElBQUosQ0FBUyxDQUFDQyxJQUFJLENBQUUsQ0FBQyxHQUFHTCxJQUFKLENBQVAsQ0FBa0JDLFFBQVEsQ0FBRUEsUUFBNUIsQ0FBVCxFQUNELENBWkgsRUFhR0ssS0FiSCxDQWFTQyxHQUFHLEVBQUksZ0RBQ1p0QixHQUFHLENBQUN1QixNQUFKLENBQVcsR0FBWCxFQUFnQkosSUFBaEIsQ0FBcUIsQ0FBQ0ssT0FBTyxDQUFFRixHQUFHLENBQUNFLE9BQWQsQ0FBckIsRUFDRCxDQWZILEVBZ0JELENBcEJELEMsd0JBc0JBM0IsT0FBTyxDQUFDNEIsT0FBUixDQUFrQixDQUFDMUIsR0FBRCxDQUFNQyxHQUFOLEdBQWMsZ0RBQzlCTixJQUFJLENBQUNnQyxRQUFMLENBQWMzQixHQUFHLENBQUM0QixNQUFKLENBQVdDLEVBQXpCLEVBQ0dmLElBREgsQ0FDUU8sSUFBSSxFQUFJLGdEQUNacEIsR0FBRyxDQUFDbUIsSUFBSixDQUFTQyxJQUFULEVBQ0QsQ0FISCxFQUlHQyxLQUpILENBSVNRLE9BQU8sQ0FBQ0MsR0FKakIsRUFLRCxDQU5EIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpXG5jb25zdCBGb29kID0gZGIuZm9vZHNcbmNvbnN0IHNlcXVlbGl6ZSA9IHJlcXVpcmUoXCJzZXF1ZWxpemVcIilcblxuXG5leHBvcnRzLmZpbmRBbGwgPSAocmVxLCByZXMpID0+IHtcbiAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCBcIlwiXG4gIGNvbnN0IHBhZ2VTaXplID0gcmVxLnF1ZXJ5LnBhZ2VTaXplIHx8IG51bGxcbiAgY29uc3QgcGFnZU51bWJlciA9IHJlcS5xdWVyeS5wYWdlTnVtYmVyICogcGFnZVNpemUgfHwgMFxuICBGb29kLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgbGltaXQ6IHBhZ2VTaXplLFxuICAgIG9mZnNldDogcGFnZU51bWJlcixcbiAgICB3aGVyZToge1xuICAgICAgbmFtZTogc2VxdWVsaXplLndoZXJlKFxuICAgICAgICBzZXF1ZWxpemUuZm4oJ0xPV0VSJywgc2VxdWVsaXplLmNvbCgnbmFtZScpKSxcbiAgICAgICAgJ0xJS0UnLCBzZWFyY2gudG9Mb3dlckNhc2UoKSArICclJylcbiAgICB9XG4gIH0pXG4gICAgLnRoZW4oKHtjb3VudCwgcm93c30pID0+IHtcbiAgICAgIGNvbnN0IGxhc3RQYWdlID0gcGFnZVNpemUgPyBNYXRoLmZsb29yKGNvdW50IC8gcGFnZVNpemUpIDogMFxuICAgICAgcmVzLnNlbmQoe2RhdGE6IFsuLi5yb3dzXSwgbGFzdFBhZ2U6IGxhc3RQYWdlfSlcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6IGVyci5tZXNzYWdlfSlcbiAgICB9KVxufVxuXG5leHBvcnRzLmZpbmRPbmUgPSAocmVxLCByZXMpID0+IHtcbiAgRm9vZC5maW5kQnlQayhyZXEucGFyYW1zLmlkKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgcmVzLnNlbmQoZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcbn1cbiJdfQ==