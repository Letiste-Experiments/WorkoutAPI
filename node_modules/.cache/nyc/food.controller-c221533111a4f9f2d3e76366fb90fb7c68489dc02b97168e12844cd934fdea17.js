function cov_6r58q40j0(){var path="/home/leo/workout-api/api/controllers/food.controller.js";var hash="e995bd7f74975ab95224a26254270f40407d1fe8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/food.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:6,column:0},end:{line:29,column:1}},"4":{start:{line:7,column:16},end:{line:7,column:25}},"5":{start:{line:8,column:15},end:{line:8,column:17}},"6":{start:{line:8,column:30},end:{line:8,column:34}},"7":{start:{line:8,column:49},end:{line:8,column:50}},"8":{start:{line:9,column:2},end:{line:13,column:3}},"9":{start:{line:10,column:4},end:{line:10,column:31}},"10":{start:{line:11,column:4},end:{line:11,column:37}},"11":{start:{line:12,column:4},end:{line:12,column:49}},"12":{start:{line:14,column:2},end:{line:28,column:3}},"13":{start:{line:15,column:26},end:{line:23,column:6}},"14":{start:{line:24,column:21},end:{line:24,column:64}},"15":{start:{line:25,column:4},end:{line:25,column:51}},"16":{start:{line:27,column:4},end:{line:27,column:48}},"17":{start:{line:31,column:0},end:{line:38,column:1}},"18":{start:{line:32,column:2},end:{line:37,column:3}},"19":{start:{line:33,column:17},end:{line:33,column:51}},"20":{start:{line:34,column:4},end:{line:34,column:18}},"21":{start:{line:36,column:4},end:{line:36,column:48}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:18},end:{line:6,column:19}},loc:{start:{line:6,column:38},end:{line:29,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:31,column:18},end:{line:31,column:19}},loc:{start:{line:31,column:38},end:{line:38,column:1}},line:31}},branchMap:{"0":{loc:{start:{line:9,column:2},end:{line:13,column:3}},type:"if",locations:[{start:{line:9,column:2},end:{line:13,column:3}},{start:{line:9,column:2},end:{line:13,column:3}}],line:9},"1":{loc:{start:{line:10,column:13},end:{line:10,column:31}},type:"binary-expr",locations:[{start:{line:10,column:13},end:{line:10,column:25}},{start:{line:10,column:29},end:{line:10,column:31}}],line:10},"2":{loc:{start:{line:11,column:15},end:{line:11,column:37}},type:"binary-expr",locations:[{start:{line:11,column:15},end:{line:11,column:29}},{start:{line:11,column:33},end:{line:11,column:37}}],line:11},"3":{loc:{start:{line:12,column:17},end:{line:12,column:49}},type:"binary-expr",locations:[{start:{line:12,column:17},end:{line:12,column:44}},{start:{line:12,column:48},end:{line:12,column:49}}],line:12},"4":{loc:{start:{line:24,column:21},end:{line:24,column:64}},type:"cond-expr",locations:[{start:{line:24,column:32},end:{line:24,column:60}},{start:{line:24,column:63},end:{line:24,column:64}}],line:24}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e995bd7f74975ab95224a26254270f40407d1fe8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6r58q40j0=function(){return actualCoverage;};}return actualCoverage;}cov_6r58q40j0();const db=(cov_6r58q40j0().s[0]++,require("../models"));const Food=(cov_6r58q40j0().s[1]++,db.foods);const sequelize=(cov_6r58q40j0().s[2]++,require("sequelize"));cov_6r58q40j0().s[3]++;exports.findAll=async(req,res)=>{cov_6r58q40j0().f[0]++;const query=(cov_6r58q40j0().s[4]++,req.query);let search=(cov_6r58q40j0().s[5]++,""),pageSize=(cov_6r58q40j0().s[6]++,null),pageNumber=(cov_6r58q40j0().s[7]++,0);cov_6r58q40j0().s[8]++;if(query){cov_6r58q40j0().b[0][0]++;cov_6r58q40j0().s[9]++;search=(cov_6r58q40j0().b[1][0]++,query.search)||(cov_6r58q40j0().b[1][1]++,"");cov_6r58q40j0().s[10]++;pageSize=(cov_6r58q40j0().b[2][0]++,query.pageSize)||(cov_6r58q40j0().b[2][1]++,null);cov_6r58q40j0().s[11]++;pageNumber=(cov_6r58q40j0().b[3][0]++,query.pageNumber*pageSize)||(cov_6r58q40j0().b[3][1]++,0);}else{cov_6r58q40j0().b[0][1]++;}cov_6r58q40j0().s[12]++;try{const{count,rows}=(cov_6r58q40j0().s[13]++,await Food.findAndCountAll({limit:pageSize,offset:pageNumber,where:{name:sequelize.where(sequelize.fn('LOWER',sequelize.col('name')),'LIKE',search.toLowerCase()+'%')}}));const lastPage=(cov_6r58q40j0().s[14]++,pageSize?(cov_6r58q40j0().b[4][0]++,Math.floor(count/pageSize)):(cov_6r58q40j0().b[4][1]++,0));cov_6r58q40j0().s[15]++;res.send({data:[...rows],lastPage:lastPage});}catch(err){cov_6r58q40j0().s[16]++;res.status(500).send({message:err.message});}};cov_6r58q40j0().s[17]++;exports.findOne=async(req,res)=>{cov_6r58q40j0().f[1]++;cov_6r58q40j0().s[18]++;try{const data=(cov_6r58q40j0().s[19]++,await Food.findByPk(req.params.id));cov_6r58q40j0().s[20]++;res.send(data);}catch(err){cov_6r58q40j0().s[21]++;res.status(500).send({message:err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb2QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJGb29kIiwiZm9vZHMiLCJzZXF1ZWxpemUiLCJleHBvcnRzIiwiZmluZEFsbCIsInJlcSIsInJlcyIsInF1ZXJ5Iiwic2VhcmNoIiwicGFnZVNpemUiLCJwYWdlTnVtYmVyIiwiY291bnQiLCJyb3dzIiwiZmluZEFuZENvdW50QWxsIiwibGltaXQiLCJvZmZzZXQiLCJ3aGVyZSIsIm5hbWUiLCJmbiIsImNvbCIsInRvTG93ZXJDYXNlIiwibGFzdFBhZ2UiLCJNYXRoIiwiZmxvb3IiLCJzZW5kIiwiZGF0YSIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJmaW5kT25lIiwiZmluZEJ5UGsiLCJwYXJhbXMiLCJpZCJdLCJtYXBwaW5ncyI6Iit1R0FlWTt5RkFmWixLQUFNQSxDQUFBQSxFQUFFLHlCQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHRixFQUFFLENBQUNHLEtBQU4sQ0FBVixDQUNBLEtBQU1DLENBQUFBLFNBQVMseUJBQUdILE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBZixDLHVCQUdBSSxPQUFPLENBQUNDLE9BQVIsQ0FBa0IsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHdCQUNwQyxLQUFNQyxDQUFBQSxLQUFLLHlCQUFHRixHQUFHLENBQUNFLEtBQVAsQ0FBWCxDQUNBLEdBQUlDLENBQUFBLE1BQU0seUJBQUcsRUFBSCxDQUFWLENBQWlCQyxRQUFRLHlCQUFHLElBQUgsQ0FBekIsQ0FBa0NDLFVBQVUseUJBQUcsQ0FBSCxDQUE1QyxDQUZvQyx1QkFHcEMsR0FBSUgsS0FBSixDQUFXLGtEQUNUQyxNQUFNLENBQUcsMkJBQUFELEtBQUssQ0FBQ0MsTUFBTiw4QkFBZ0IsRUFBaEIsQ0FBVCxDQURTLHdCQUVUQyxRQUFRLENBQUcsMkJBQUFGLEtBQUssQ0FBQ0UsUUFBTiw4QkFBa0IsSUFBbEIsQ0FBWCxDQUZTLHdCQUdUQyxVQUFVLENBQUcsMkJBQUFILEtBQUssQ0FBQ0csVUFBTixDQUFtQkQsUUFBbkIsOEJBQStCLENBQS9CLENBQWIsQ0FDRCxDQUpELGdDQUhvQyx3QkFRcEMsR0FBSSxDQUNGLEtBQU0sQ0FBQ0UsS0FBRCxDQUFRQyxJQUFSLDJCQUFnQixLQUFNWixDQUFBQSxJQUFJLENBQUNhLGVBQUwsQ0FBcUIsQ0FDL0NDLEtBQUssQ0FBRUwsUUFEd0MsQ0FFL0NNLE1BQU0sQ0FBRUwsVUFGdUMsQ0FHL0NNLEtBQUssQ0FBRSxDQUNMQyxJQUFJLENBQUVmLFNBQVMsQ0FBQ2MsS0FBVixDQUNKZCxTQUFTLENBQUNnQixFQUFWLENBQWEsT0FBYixDQUFzQmhCLFNBQVMsQ0FBQ2lCLEdBQVYsQ0FBYyxNQUFkLENBQXRCLENBREksQ0FFSixNQUZJLENBRUlYLE1BQU0sQ0FBQ1ksV0FBUCxHQUF1QixHQUYzQixDQURELENBSHdDLENBQXJCLENBQXRCLENBQU4sQ0FTQSxLQUFNQyxDQUFBQSxRQUFRLDBCQUFHWixRQUFRLDRCQUFHYSxJQUFJLENBQUNDLEtBQUwsQ0FBV1osS0FBSyxDQUFHRixRQUFuQixDQUFILDZCQUFrQyxDQUFsQyxDQUFYLENBQWQsQ0FWRSx3QkFXRkgsR0FBRyxDQUFDa0IsSUFBSixDQUFTLENBQUNDLElBQUksQ0FBRSxDQUFDLEdBQUdiLElBQUosQ0FBUCxDQUFrQlMsUUFBUSxDQUFFQSxRQUE1QixDQUFULEVBQ0QsQ0FBQyxNQUFPSyxHQUFQLENBQVkseUJBQ1pwQixHQUFHLENBQUNxQixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsQ0FBQ0ksT0FBTyxDQUFFRixHQUFHLENBQUNFLE9BQWQsQ0FBckIsRUFDRCxDQUNGLENBdkJELEMsd0JBeUJBekIsT0FBTyxDQUFDMEIsT0FBUixDQUFrQixNQUFPeEIsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLGdEQUNwQyxHQUFJLENBQ0YsS0FBTW1CLENBQUFBLElBQUksMEJBQUcsS0FBTXpCLENBQUFBLElBQUksQ0FBQzhCLFFBQUwsQ0FBY3pCLEdBQUcsQ0FBQzBCLE1BQUosQ0FBV0MsRUFBekIsQ0FBVCxDQUFWLENBREUsd0JBRUYxQixHQUFHLENBQUNrQixJQUFKLENBQVNDLElBQVQsRUFDRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSx5QkFDWnBCLEdBQUcsQ0FBQ3FCLE1BQUosQ0FBVyxHQUFYLEVBQWdCSCxJQUFoQixDQUFxQixDQUFDSSxPQUFPLENBQUVGLEdBQUcsQ0FBQ0UsT0FBZCxDQUFyQixFQUNELENBQ0YsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKVxuY29uc3QgRm9vZCA9IGRiLmZvb2RzXG5jb25zdCBzZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpXG5cblxuZXhwb3J0cy5maW5kQWxsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gcmVxLnF1ZXJ5XG4gIGxldCBzZWFyY2ggPSBcIlwiLCBwYWdlU2l6ZSA9IG51bGwsIHBhZ2VOdW1iZXIgPSAwXG4gIGlmIChxdWVyeSkge1xuICAgIHNlYXJjaCA9IHF1ZXJ5LnNlYXJjaCB8fCBcIlwiXG4gICAgcGFnZVNpemUgPSBxdWVyeS5wYWdlU2l6ZSB8fCBudWxsXG4gICAgcGFnZU51bWJlciA9IHF1ZXJ5LnBhZ2VOdW1iZXIgKiBwYWdlU2l6ZSB8fCAwXG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB7Y291bnQsIHJvd3N9ID0gYXdhaXQgRm9vZC5maW5kQW5kQ291bnRBbGwoe1xuICAgICAgbGltaXQ6IHBhZ2VTaXplLFxuICAgICAgb2Zmc2V0OiBwYWdlTnVtYmVyLFxuICAgICAgd2hlcmU6IHtcbiAgICAgICAgbmFtZTogc2VxdWVsaXplLndoZXJlKFxuICAgICAgICAgIHNlcXVlbGl6ZS5mbignTE9XRVInLCBzZXF1ZWxpemUuY29sKCduYW1lJykpLFxuICAgICAgICAgICdMSUtFJywgc2VhcmNoLnRvTG93ZXJDYXNlKCkgKyAnJScpXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCBsYXN0UGFnZSA9IHBhZ2VTaXplID8gTWF0aC5mbG9vcihjb3VudCAvIHBhZ2VTaXplKSA6IDBcbiAgICByZXMuc2VuZCh7ZGF0YTogWy4uLnJvd3NdLCBsYXN0UGFnZTogbGFzdFBhZ2V9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KVxuICB9XG59XG5cbmV4cG9ydHMuZmluZE9uZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBGb29kLmZpbmRCeVBrKHJlcS5wYXJhbXMuaWQpXG4gICAgcmVzLnNlbmQoZGF0YSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6IGVyci5tZXNzYWdlfSlcbiAgfVxufVxuIl19