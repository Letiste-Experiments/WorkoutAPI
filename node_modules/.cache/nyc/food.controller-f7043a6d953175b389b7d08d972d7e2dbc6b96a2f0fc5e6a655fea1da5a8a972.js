function cov_6r58q40j0(){var path="/home/leo/workout-api/api/controllers/food.controller.js";var hash="5ae8a6a42db8122d8838f65e9fb43e6bf33814ce";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/food.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:6,column:0},end:{line:26,column:1}},"4":{start:{line:7,column:17},end:{line:7,column:39}},"5":{start:{line:8,column:15},end:{line:8,column:41}},"6":{start:{line:9,column:17},end:{line:9,column:53}},"7":{start:{line:11,column:2},end:{line:25,column:3}},"8":{start:{line:12,column:26},end:{line:20,column:6}},"9":{start:{line:21,column:21},end:{line:21,column:64}},"10":{start:{line:22,column:4},end:{line:22,column:51}},"11":{start:{line:24,column:4},end:{line:24,column:48}},"12":{start:{line:28,column:0},end:{line:35,column:1}},"13":{start:{line:29,column:2},end:{line:34,column:3}},"14":{start:{line:30,column:17},end:{line:30,column:51}},"15":{start:{line:31,column:4},end:{line:31,column:18}},"16":{start:{line:33,column:4},end:{line:33,column:48}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:18},end:{line:6,column:19}},loc:{start:{line:6,column:38},end:{line:26,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:28,column:18},end:{line:28,column:19}},loc:{start:{line:28,column:38},end:{line:35,column:1}},line:28}},branchMap:{"0":{loc:{start:{line:7,column:17},end:{line:7,column:39}},type:"binary-expr",locations:[{start:{line:7,column:17},end:{line:7,column:33}},{start:{line:7,column:37},end:{line:7,column:39}}],line:7},"1":{loc:{start:{line:8,column:15},end:{line:8,column:41}},type:"binary-expr",locations:[{start:{line:8,column:15},end:{line:8,column:33}},{start:{line:8,column:37},end:{line:8,column:41}}],line:8},"2":{loc:{start:{line:9,column:17},end:{line:9,column:53}},type:"binary-expr",locations:[{start:{line:9,column:17},end:{line:9,column:48}},{start:{line:9,column:52},end:{line:9,column:53}}],line:9},"3":{loc:{start:{line:21,column:21},end:{line:21,column:64}},type:"cond-expr",locations:[{start:{line:21,column:32},end:{line:21,column:60}},{start:{line:21,column:63},end:{line:21,column:64}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"5ae8a6a42db8122d8838f65e9fb43e6bf33814ce"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6r58q40j0=function(){return actualCoverage;};}return actualCoverage;}cov_6r58q40j0();const db=(cov_6r58q40j0().s[0]++,require("../models"));const Food=(cov_6r58q40j0().s[1]++,db.foods);const sequelize=(cov_6r58q40j0().s[2]++,require("sequelize"));cov_6r58q40j0().s[3]++;exports.findAll=async(req,res)=>{cov_6r58q40j0().f[0]++;const search=(cov_6r58q40j0().s[4]++,(cov_6r58q40j0().b[0][0]++,req.query.search)||(cov_6r58q40j0().b[0][1]++,"")),pageSize=(cov_6r58q40j0().s[5]++,(cov_6r58q40j0().b[1][0]++,req.query.pageSize)||(cov_6r58q40j0().b[1][1]++,null)),pageNumber=(cov_6r58q40j0().s[6]++,(cov_6r58q40j0().b[2][0]++,req.query.pageNumber*pageSize)||(cov_6r58q40j0().b[2][1]++,0));cov_6r58q40j0().s[7]++;try{const{count,rows}=(cov_6r58q40j0().s[8]++,await Food.findAndCountAll({limit:pageSize,offset:pageNumber,where:{name:sequelize.where(sequelize.fn('LOWER',sequelize.col('name')),'LIKE',search.toLowerCase()+'%')}}));const lastPage=(cov_6r58q40j0().s[9]++,pageSize?(cov_6r58q40j0().b[3][0]++,Math.floor(count/pageSize)):(cov_6r58q40j0().b[3][1]++,0));cov_6r58q40j0().s[10]++;res.send({data:[...rows],lastPage:lastPage});}catch(err){cov_6r58q40j0().s[11]++;res.status(500).send({message:err.message});}};cov_6r58q40j0().s[12]++;exports.findOne=async(req,res)=>{cov_6r58q40j0().f[1]++;cov_6r58q40j0().s[13]++;try{const data=(cov_6r58q40j0().s[14]++,await Food.findByPk(req.params.id));cov_6r58q40j0().s[15]++;res.send(data);}catch(err){cov_6r58q40j0().s[16]++;res.status(500).send({message:err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb2QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJGb29kIiwiZm9vZHMiLCJzZXF1ZWxpemUiLCJleHBvcnRzIiwiZmluZEFsbCIsInJlcSIsInJlcyIsInNlYXJjaCIsInF1ZXJ5IiwicGFnZVNpemUiLCJwYWdlTnVtYmVyIiwiY291bnQiLCJyb3dzIiwiZmluZEFuZENvdW50QWxsIiwibGltaXQiLCJvZmZzZXQiLCJ3aGVyZSIsIm5hbWUiLCJmbiIsImNvbCIsInRvTG93ZXJDYXNlIiwibGFzdFBhZ2UiLCJNYXRoIiwiZmxvb3IiLCJzZW5kIiwiZGF0YSIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJmaW5kT25lIiwiZmluZEJ5UGsiLCJwYXJhbXMiLCJpZCJdLCJtYXBwaW5ncyI6Ijh0RkFlWTt5RkFmWixLQUFNQSxDQUFBQSxFQUFFLHlCQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHRixFQUFFLENBQUNHLEtBQU4sQ0FBVixDQUNBLEtBQU1DLENBQUFBLFNBQVMseUJBQUdILE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBZixDLHVCQUdBSSxPQUFPLENBQUNDLE9BQVIsQ0FBa0IsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHdCQUNwQyxLQUFNQyxDQUFBQSxNQUFNLHlCQUFHLDJCQUFBRixHQUFHLENBQUNHLEtBQUosQ0FBVUQsTUFBViw4QkFBb0IsRUFBcEIsQ0FBSCxDQUFaLENBQ0VFLFFBQVEseUJBQUcsMkJBQUFKLEdBQUcsQ0FBQ0csS0FBSixDQUFVQyxRQUFWLDhCQUFzQixJQUF0QixDQUFILENBRFYsQ0FFRUMsVUFBVSx5QkFBRywyQkFBQUwsR0FBRyxDQUFDRyxLQUFKLENBQVVFLFVBQVYsQ0FBdUJELFFBQXZCLDhCQUFtQyxDQUFuQyxDQUFILENBRlosQ0FEb0MsdUJBS3BDLEdBQUksQ0FDRixLQUFNLENBQUNFLEtBQUQsQ0FBUUMsSUFBUiwwQkFBZ0IsS0FBTVosQ0FBQUEsSUFBSSxDQUFDYSxlQUFMLENBQXFCLENBQy9DQyxLQUFLLENBQUVMLFFBRHdDLENBRS9DTSxNQUFNLENBQUVMLFVBRnVDLENBRy9DTSxLQUFLLENBQUUsQ0FDTEMsSUFBSSxDQUFFZixTQUFTLENBQUNjLEtBQVYsQ0FDSmQsU0FBUyxDQUFDZ0IsRUFBVixDQUFhLE9BQWIsQ0FBc0JoQixTQUFTLENBQUNpQixHQUFWLENBQWMsTUFBZCxDQUF0QixDQURJLENBRUosTUFGSSxDQUVJWixNQUFNLENBQUNhLFdBQVAsR0FBdUIsR0FGM0IsQ0FERCxDQUh3QyxDQUFyQixDQUF0QixDQUFOLENBU0EsS0FBTUMsQ0FBQUEsUUFBUSx5QkFBR1osUUFBUSw0QkFBR2EsSUFBSSxDQUFDQyxLQUFMLENBQVdaLEtBQUssQ0FBR0YsUUFBbkIsQ0FBSCw2QkFBa0MsQ0FBbEMsQ0FBWCxDQUFkLENBVkUsd0JBV0ZILEdBQUcsQ0FBQ2tCLElBQUosQ0FBUyxDQUFDQyxJQUFJLENBQUUsQ0FBQyxHQUFHYixJQUFKLENBQVAsQ0FBa0JTLFFBQVEsQ0FBRUEsUUFBNUIsQ0FBVCxFQUNELENBQUMsTUFBT0ssR0FBUCxDQUFZLHlCQUNacEIsR0FBRyxDQUFDcUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCLENBQUNJLE9BQU8sQ0FBRUYsR0FBRyxDQUFDRSxPQUFkLENBQXJCLEVBQ0QsQ0FDRixDQXBCRCxDLHdCQXNCQXpCLE9BQU8sQ0FBQzBCLE9BQVIsQ0FBa0IsTUFBT3hCLEdBQVAsQ0FBWUMsR0FBWixHQUFvQixnREFDcEMsR0FBSSxDQUNGLEtBQU1tQixDQUFBQSxJQUFJLDBCQUFHLEtBQU16QixDQUFBQSxJQUFJLENBQUM4QixRQUFMLENBQWN6QixHQUFHLENBQUMwQixNQUFKLENBQVdDLEVBQXpCLENBQVQsQ0FBVixDQURFLHdCQUVGMUIsR0FBRyxDQUFDa0IsSUFBSixDQUFTQyxJQUFULEVBQ0QsQ0FBQyxNQUFPQyxHQUFQLENBQVkseUJBQ1pwQixHQUFHLENBQUNxQixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsQ0FBQ0ksT0FBTyxDQUFFRixHQUFHLENBQUNFLE9BQWQsQ0FBckIsRUFDRCxDQUNGLENBUEQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkYiA9IHJlcXVpcmUoXCIuLi9tb2RlbHNcIilcbmNvbnN0IEZvb2QgPSBkYi5mb29kc1xuY29uc3Qgc2VxdWVsaXplID0gcmVxdWlyZShcInNlcXVlbGl6ZVwiKVxuXG5cbmV4cG9ydHMuZmluZEFsbCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoIHx8IFwiXCIsXG4gICAgcGFnZVNpemUgPSByZXEucXVlcnkucGFnZVNpemUgfHwgbnVsbCxcbiAgICBwYWdlTnVtYmVyID0gcmVxLnF1ZXJ5LnBhZ2VOdW1iZXIgKiBwYWdlU2l6ZSB8fCAwXG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7Y291bnQsIHJvd3N9ID0gYXdhaXQgRm9vZC5maW5kQW5kQ291bnRBbGwoe1xuICAgICAgbGltaXQ6IHBhZ2VTaXplLFxuICAgICAgb2Zmc2V0OiBwYWdlTnVtYmVyLFxuICAgICAgd2hlcmU6IHtcbiAgICAgICAgbmFtZTogc2VxdWVsaXplLndoZXJlKFxuICAgICAgICAgIHNlcXVlbGl6ZS5mbignTE9XRVInLCBzZXF1ZWxpemUuY29sKCduYW1lJykpLFxuICAgICAgICAgICdMSUtFJywgc2VhcmNoLnRvTG93ZXJDYXNlKCkgKyAnJScpXG4gICAgICB9XG4gICAgfSlcbiAgICBjb25zdCBsYXN0UGFnZSA9IHBhZ2VTaXplID8gTWF0aC5mbG9vcihjb3VudCAvIHBhZ2VTaXplKSA6IDBcbiAgICByZXMuc2VuZCh7ZGF0YTogWy4uLnJvd3NdLCBsYXN0UGFnZTogbGFzdFBhZ2V9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7bWVzc2FnZTogZXJyLm1lc3NhZ2V9KVxuICB9XG59XG5cbmV4cG9ydHMuZmluZE9uZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBGb29kLmZpbmRCeVBrKHJlcS5wYXJhbXMuaWQpXG4gICAgcmVzLnNlbmQoZGF0YSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6IGVyci5tZXNzYWdlfSlcbiAgfVxufVxuIl19