function cov_n6k7axzxn(){var path="/home/leo/workout-api/api/controllers/user.controller.js";var hash="ae071f8312ca061c01bebbe0886449bb565898fd";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/user.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:11},end:{line:3,column:26}},"3":{start:{line:6,column:0},end:{line:35,column:1}},"4":{start:{line:7,column:2},end:{line:7,column:18}},"5":{start:{line:9,column:15},end:{line:18,column:3}},"6":{start:{line:22,column:2},end:{line:34,column:4}},"7":{start:{line:24,column:4},end:{line:24,column:29}},"8":{start:{line:25,column:4},end:{line:25,column:32}},"9":{start:{line:26,column:4},end:{line:26,column:18}},"10":{start:{line:29,column:4},end:{line:29,column:27}},"11":{start:{line:30,column:4},end:{line:33,column:6}},"12":{start:{line:38,column:0},end:{line:62,column:1}},"13":{start:{line:40,column:2},end:{line:42,column:32}},"14":{start:{line:41,column:4},end:{line:41,column:23}},"15":{start:{line:42,column:10},end:{line:42,column:31}},"16":{start:{line:44,column:2},end:{line:48,column:3}},"17":{start:{line:45,column:4},end:{line:45,column:76}},"18":{start:{line:45,column:50},end:{line:45,column:74}},"19":{start:{line:47,column:4},end:{line:47,column:32}},"20":{start:{line:49,column:2},end:{line:49,column:30}},"21":{start:{line:51,column:2},end:{line:60,column:4}},"22":{start:{line:53,column:4},end:{line:53,column:19}},"23":{start:{line:56,column:4},end:{line:59,column:6}},"24":{start:{line:65,column:0},end:{line:78,column:1}},"25":{start:{line:66,column:13},end:{line:66,column:26}},"26":{start:{line:68,column:2},end:{line:76,column:4}},"27":{start:{line:70,column:4},end:{line:70,column:18}},"28":{start:{line:73,column:4},end:{line:75,column:6}},"29":{start:{line:81,column:0},end:{line:83,column:1}},"30":{start:{line:86,column:0},end:{line:109,column:1}},"31":{start:{line:87,column:13},end:{line:87,column:26}},"32":{start:{line:89,column:2},end:{line:107,column:4}},"33":{start:{line:93,column:4},end:{line:101,column:5}},"34":{start:{line:94,column:6},end:{line:96,column:8}},"35":{start:{line:98,column:6},end:{line:100,column:8}},"36":{start:{line:104,column:4},end:{line:106,column:6}},"37":{start:{line:112,column:0},end:{line:114,column:1}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:37},end:{line:35,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:23,column:8},end:{line:23,column:9}},loc:{start:{line:23,column:16},end:{line:27,column:3}},line:23},"2":{name:"(anonymous_2)",decl:{start:{line:28,column:9},end:{line:28,column:10}},loc:{start:{line:28,column:16},end:{line:34,column:3}},line:28},"3":{name:"(anonymous_3)",decl:{start:{line:38,column:18},end:{line:38,column:19}},loc:{start:{line:38,column:32},end:{line:62,column:1}},line:38},"4":{name:"(anonymous_4)",decl:{start:{line:45,column:43},end:{line:45,column:44}},loc:{start:{line:45,column:49},end:{line:45,column:75}},line:45},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:8},end:{line:52,column:9}},loc:{start:{line:52,column:16},end:{line:54,column:3}},line:52},"6":{name:"(anonymous_6)",decl:{start:{line:55,column:9},end:{line:55,column:10}},loc:{start:{line:55,column:16},end:{line:60,column:3}},line:55},"7":{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:32},end:{line:78,column:1}},line:65},"8":{name:"(anonymous_8)",decl:{start:{line:69,column:8},end:{line:69,column:9}},loc:{start:{line:69,column:16},end:{line:71,column:3}},line:69},"9":{name:"(anonymous_9)",decl:{start:{line:72,column:9},end:{line:72,column:10}},loc:{start:{line:72,column:16},end:{line:76,column:3}},line:72},"10":{name:"(anonymous_10)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:31},end:{line:83,column:1}},line:81},"11":{name:"(anonymous_11)",decl:{start:{line:86,column:17},end:{line:86,column:18}},loc:{start:{line:86,column:31},end:{line:109,column:1}},line:86},"12":{name:"(anonymous_12)",decl:{start:{line:92,column:8},end:{line:92,column:9}},loc:{start:{line:92,column:15},end:{line:102,column:3}},line:92},"13":{name:"(anonymous_13)",decl:{start:{line:103,column:9},end:{line:103,column:10}},loc:{start:{line:103,column:15},end:{line:107,column:3}},line:103},"14":{name:"(anonymous_14)",decl:{start:{line:112,column:20},end:{line:112,column:21}},loc:{start:{line:112,column:34},end:{line:114,column:1}},line:112}},branchMap:{"0":{loc:{start:{line:32,column:6},end:{line:32,column:67}},type:"binary-expr",locations:[{start:{line:32,column:6},end:{line:32,column:17}},{start:{line:32,column:21},end:{line:32,column:67}}],line:32},"1":{loc:{start:{line:40,column:2},end:{line:42,column:32}},type:"if",locations:[{start:{line:40,column:2},end:{line:42,column:32}},{start:{line:40,column:2},end:{line:42,column:32}}],line:40},"2":{loc:{start:{line:44,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:44,column:2},end:{line:48,column:3}},{start:{line:44,column:2},end:{line:48,column:3}}],line:44},"3":{loc:{start:{line:58,column:6},end:{line:58,column:66}},type:"binary-expr",locations:[{start:{line:58,column:6},end:{line:58,column:17}},{start:{line:58,column:21},end:{line:58,column:66}}],line:58},"4":{loc:{start:{line:93,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:93,column:4},end:{line:101,column:5}},{start:{line:93,column:4},end:{line:101,column:5}}],line:93}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ae071f8312ca061c01bebbe0886449bb565898fd"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_n6k7axzxn=function(){return actualCoverage;};}return actualCoverage;}cov_n6k7axzxn();const db=(cov_n6k7axzxn().s[0]++,require("../models"));const User=(cov_n6k7axzxn().s[1]++,db.users);const Op=(cov_n6k7axzxn().s[2]++,db.Sequelize.Op);// Create and save a new User
cov_n6k7axzxn().s[3]++;exports.create=async(req,res)=>{cov_n6k7axzxn().f[0]++;cov_n6k7axzxn().s[4]++;console.log(req);const user=(cov_n6k7axzxn().s[5]++,{firstname:req.body.firstname,lastname:req.body.lastname,email:req.body.email,password:req.body.password,password_confirmation:req.body.password_confirmation,password_digest:req.body.password_digest,age:req.body.age,gender:req.body.gender});cov_n6k7axzxn().s[6]++;User.create(user).then(data=>{cov_n6k7axzxn().f[1]++;cov_n6k7axzxn().s[7]++;console.log("DATA",data);cov_n6k7axzxn().s[8]++;req.session.userid=data.id;cov_n6k7axzxn().s[9]++;res.send(data);}).catch(err=>{cov_n6k7axzxn().f[2]++;cov_n6k7axzxn().s[10]++;console.log("ERR",err);cov_n6k7axzxn().s[11]++;res.status(500).json({message:(cov_n6k7axzxn().b[0][0]++,err.message)||(cov_n6k7axzxn().b[0][1]++,"Some error occurred while creating the user.")});});};// Retrieve all Users from the database 
cov_n6k7axzxn().s[12]++;exports.findAll=(req,res)=>{cov_n6k7axzxn().f[3]++;cov_n6k7axzxn().s[13]++;if(req.session.views){cov_n6k7axzxn().b[1][0]++;cov_n6k7axzxn().s[14]++;req.session.views++;}else{cov_n6k7axzxn().b[1][1]++;cov_n6k7axzxn().s[15]++;req.session.views=1;}cov_n6k7axzxn().s[16]++;if(req.session.userid){cov_n6k7axzxn().b[2][0]++;cov_n6k7axzxn().s[17]++;User.findByPk(req.session.userid).then(()=>{cov_n6k7axzxn().f[4]++;cov_n6k7axzxn().s[18]++;console.log("logged in");});}else{cov_n6k7axzxn().b[2][1]++;cov_n6k7axzxn().s[19]++;console.log("not logged in");}cov_n6k7axzxn().s[20]++;res.cookie("name","loutre");cov_n6k7axzxn().s[21]++;User.findAll().then(data=>{cov_n6k7axzxn().f[5]++;cov_n6k7axzxn().s[22]++;res.send(data);}).catch(err=>{cov_n6k7axzxn().f[6]++;cov_n6k7axzxn().s[23]++;res.status(500).send({message:(cov_n6k7axzxn().b[3][0]++,err.message)||(cov_n6k7axzxn().b[3][1]++,"Some error occurred while retrieving users.")});});};// Find a single Tutorial with the id in the request
cov_n6k7axzxn().s[24]++;exports.findOne=(req,res)=>{cov_n6k7axzxn().f[7]++;const id=(cov_n6k7axzxn().s[25]++,req.params.id);cov_n6k7axzxn().s[26]++;User.findByPk(id).then(data=>{cov_n6k7axzxn().f[8]++;cov_n6k7axzxn().s[27]++;res.send(data);}).catch(err=>{cov_n6k7axzxn().f[9]++;cov_n6k7axzxn().s[28]++;res.status(500).send({message:`Error retrieving User with id = ${id}`});});};// Update a User by the id in the request
cov_n6k7axzxn().s[29]++;exports.update=(req,res)=>{cov_n6k7axzxn().f[10]++;};// Delete the User with the id in the request
cov_n6k7axzxn().s[30]++;exports.delete=(req,res)=>{cov_n6k7axzxn().f[11]++;const id=(cov_n6k7axzxn().s[31]++,req.params.id);cov_n6k7axzxn().s[32]++;User.destroy({where:{id:id}}).then(num=>{cov_n6k7axzxn().f[12]++;cov_n6k7axzxn().s[33]++;if(num==1){cov_n6k7axzxn().b[4][0]++;cov_n6k7axzxn().s[34]++;res.send({message:"User was deleted successfully"});}else{cov_n6k7axzxn().b[4][1]++;cov_n6k7axzxn().s[35]++;res.status(500).send({message:`Cannot delete User with id = ${id}`});}}).catch(err=>{cov_n6k7axzxn().f[13]++;cov_n6k7axzxn().s[36]++;res.status(500).send({message:`Could not delete User with id = ${id}`});});};// Delete all Users from the database
cov_n6k7axzxn().s[37]++;exports.deleteAll=(req,res)=>{cov_n6k7axzxn().f[14]++;};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJVc2VyIiwidXNlcnMiLCJPcCIsIlNlcXVlbGl6ZSIsImV4cG9ydHMiLCJjcmVhdGUiLCJyZXEiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwidXNlciIsImZpcnN0bmFtZSIsImJvZHkiLCJsYXN0bmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwYXNzd29yZF9jb25maXJtYXRpb24iLCJwYXNzd29yZF9kaWdlc3QiLCJhZ2UiLCJnZW5kZXIiLCJ0aGVuIiwiZGF0YSIsInNlc3Npb24iLCJ1c2VyaWQiLCJpZCIsInNlbmQiLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZmluZEFsbCIsInZpZXdzIiwiZmluZEJ5UGsiLCJjb29raWUiLCJmaW5kT25lIiwicGFyYW1zIiwidXBkYXRlIiwiZGVsZXRlIiwiZGVzdHJveSIsIndoZXJlIiwibnVtIiwiZGVsZXRlQWxsIl0sIm1hcHBpbmdzIjoiNnBNQWVZO3lGQWZaLEtBQU1BLENBQUFBLEVBQUUseUJBQUdDLE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBUixDQUNBLEtBQU1DLENBQUFBLElBQUkseUJBQUdGLEVBQUUsQ0FBQ0csS0FBTixDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsRUFBRSx5QkFBR0osRUFBRSxDQUFDSyxTQUFILENBQWFELEVBQWhCLENBQVIsQ0FFQTt1QkFDQUUsT0FBTyxDQUFDQyxNQUFSLENBQWlCLE1BQU9DLEdBQVAsQ0FBWUMsR0FBWixHQUFvQiwrQ0FDbkNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxHQUFaLEVBRUEsS0FBTUksQ0FBQUEsSUFBSSx5QkFBRyxDQUNYQyxTQUFTLENBQUVMLEdBQUcsQ0FBQ00sSUFBSixDQUFTRCxTQURULENBRVhFLFFBQVEsQ0FBRVAsR0FBRyxDQUFDTSxJQUFKLENBQVNDLFFBRlIsQ0FHWEMsS0FBSyxDQUFFUixHQUFHLENBQUNNLElBQUosQ0FBU0UsS0FI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T0FBTyxDQUFHLG1DQUFrQ04sRUFBRyxFQUQ1QixDQUFyQixFQUdELENBUkQsRUFVRCxDQWJELENBZUE7d0JBQ0FwQixPQUFPLENBQUNpQyxNQUFSLENBQWlCLENBQUMvQixHQUFELENBQU1DLEdBQU4sR0FBYyx5QkFFOUIsQ0FGRCxDQUlBO3dCQUNBSCxPQUFPLENBQUNrQyxNQUFSLENBQWlCLENBQUNoQyxHQUFELENBQU1DLEdBQU4sR0FBYyx5QkFDN0IsS0FBTWlCLENBQUFBLEVBQUUsMEJBQUdsQixHQUFHLENBQUM4QixNQUFKLENBQVdaLEVBQWQsQ0FBUixDQUQ2Qix3QkFHN0J4QixJQUFJLENBQUN1QyxPQUFMLENBQWEsQ0FDWEMsS0FBSyxDQUFFLENBQUNoQixFQUFFLENBQUVBLEVBQUwsQ0FESSxDQUFiLEVBR0NKLElBSEQsQ0FHTXFCLEdBQUcsRUFBSSxpREFDWCxHQUFJQSxHQUFHLEVBQUksQ0FBWCxDQUFjLG1EQUNabEMsR0FBRyxDQUFDa0IsSUFBSixDQUFTLENBQ1BLLE9BQU8sQ0FBRSwrQkFERixDQUFULEVBR0QsQ0FKRCxJQUlPLG1EQUNMdkIsR0FBRyxDQUFDcUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCLENBQ25CSyxPQUFPLENBQUcsZ0NBQStCTixFQUFHLEVBRHpCLENBQXJCLEVBR0QsQ0FDRixDQWJELEVBY0NFLEtBZEQsQ0FjT0MsR0FBRyxFQUFHLGlEQUNYcEIsR0FBRyxDQUFDcUIsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCLENBQ25CSyxPQUFPLENBQUcsbUNBQWtDTixFQUFHLEVBRDVCLENBQXJCLEVBR0QsQ0FsQkQsRUFvQkQsQ0F2QkQsQ0F5QkE7d0JBQ0FwQixPQUFPLENBQUNzQyxTQUFSLENBQW9CLENBQUNwQyxHQUFELENBQU1DLEdBQU4sR0FBYyx5QkFFakMsQ0FGRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKVxuY29uc3QgVXNlciA9IGRiLnVzZXJzXG5jb25zdCBPcCA9IGRiLlNlcXVlbGl6ZS5PcFxuXG4vLyBDcmVhdGUgYW5kIHNhdmUgYSBuZXcgVXNlclxuZXhwb3J0cy5jcmVhdGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc29sZS5sb2cocmVxKVxuXG4gIGNvbnN0IHVzZXIgPSB7XG4gICAgZmlyc3RuYW1lOiByZXEuYm9keS5maXJzdG5hbWUsXG4gICAgbGFzdG5hbWU6IHJlcS5ib2R5Lmxhc3RuYW1lLFxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXG4gICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiByZXEuYm9keS5wYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgcGFzc3dvcmRfZGlnZXN0OiByZXEuYm9keS5wYXNzd29yZF9kaWdlc3QsXG4gICAgYWdlOiByZXEuYm9keS5hZ2UsXG4gICAgZ2VuZGVyOiByZXEuYm9keS5nZW5kZXIsXG4gIH1cblxuXG5cbiAgVXNlci5jcmVhdGUodXNlcilcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJEQVRBXCIsIGRhdGEpXG4gICAgcmVxLnNlc3Npb24udXNlcmlkID0gZGF0YS5pZFxuICAgIHJlcy5zZW5kKGRhdGEpXG4gIH0pXG4gIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiRVJSXCIsIGVycilcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICBtZXNzYWdlOlxuICAgICAgZXJyLm1lc3NhZ2UgfHwgXCJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIGNyZWF0aW5nIHRoZSB1c2VyLlwiXG4gICAgfSlcbiAgfSlcbn1cblxuLy8gUmV0cmlldmUgYWxsIFVzZXJzIGZyb20gdGhlIGRhdGFiYXNlIFxuZXhwb3J0cy5maW5kQWxsID0gKHJlcSwgcmVzKSA9PiB7XG5cbiAgaWYgKHJlcS5zZXNzaW9uLnZpZXdzKSB7XG4gICAgcmVxLnNlc3Npb24udmlld3MrK1xuICB9IGVsc2Uge3JlcS5zZXNzaW9uLnZpZXdzID0gMX1cblxuICBpZiAocmVxLnNlc3Npb24udXNlcmlkKSB7XG4gICAgVXNlci5maW5kQnlQayhyZXEuc2Vzc2lvbi51c2VyaWQpLnRoZW4oKCkgPT4ge2NvbnNvbGUubG9nKFwibG9nZ2VkIGluXCIpfSlcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyhcIm5vdCBsb2dnZWQgaW5cIilcbiAgfVxuICByZXMuY29va2llKFwibmFtZVwiLCBcImxvdXRyZVwiKVxuICBcbiAgVXNlci5maW5kQWxsKClcbiAgLnRoZW4oZGF0YSA9PiB7XG4gICAgcmVzLnNlbmQoZGF0YSk7XG4gIH0pXG4gIC5jYXRjaChlcnIgPT4ge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgIG1lc3NhZ2U6XG4gICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB1c2Vycy5cIlxuICAgIH0pXG4gIH0pXG5cbn1cblxuLy8gRmluZCBhIHNpbmdsZSBUdXRvcmlhbCB3aXRoIHRoZSBpZCBpbiB0aGUgcmVxdWVzdFxuZXhwb3J0cy5maW5kT25lID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxuXG4gIFVzZXIuZmluZEJ5UGsoaWQpXG4gIC50aGVuKGRhdGEgPT4ge1xuICAgIHJlcy5zZW5kKGRhdGEpXG4gIH0pXG4gIC5jYXRjaChlcnIgPT4ge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgIG1lc3NhZ2U6IGBFcnJvciByZXRyaWV2aW5nIFVzZXIgd2l0aCBpZCA9ICR7aWR9YFxuICAgIH0pXG4gIH0pXG5cbn1cblxuLy8gVXBkYXRlIGEgVXNlciBieSB0aGUgaWQgaW4gdGhlIHJlcXVlc3RcbmV4cG9ydHMudXBkYXRlID0gKHJlcSwgcmVzKSA9PiB7XG5cbn1cblxuLy8gRGVsZXRlIHRoZSBVc2VyIHdpdGggdGhlIGlkIGluIHRoZSByZXF1ZXN0XG5leHBvcnRzLmRlbGV0ZSA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcblxuICBVc2VyLmRlc3Ryb3koe1xuICAgIHdoZXJlOiB7aWQ6IGlkfVxuICB9KVxuICAudGhlbihudW0gPT4ge1xuICAgIGlmIChudW0gPT0gMSkge1xuICAgICAgcmVzLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBcIlVzZXIgd2FzIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCJcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogYENhbm5vdCBkZWxldGUgVXNlciB3aXRoIGlkID0gJHtpZH1gXG4gICAgICB9KVxuICAgIH1cbiAgfSlcbiAgLmNhdGNoKGVyciA9PntcbiAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICBtZXNzYWdlOiBgQ291bGQgbm90IGRlbGV0ZSBVc2VyIHdpdGggaWQgPSAke2lkfWBcbiAgICB9KVxuICB9KVxuXG59XG5cbi8vIERlbGV0ZSBhbGwgVXNlcnMgZnJvbSB0aGUgZGF0YWJhc2VcbmV4cG9ydHMuZGVsZXRlQWxsID0gKHJlcSwgcmVzKSA9PiB7XG5cbn1cbiJdfQ==