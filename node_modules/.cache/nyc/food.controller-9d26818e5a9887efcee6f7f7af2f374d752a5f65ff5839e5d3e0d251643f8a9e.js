function cov_6r58q40j0(){var path="/home/leo/workout-api/api/controllers/food.controller.js";var hash="e6658b6de0760a59d9c4aaa2ad5185a9c32e1030";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/food.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:18},end:{line:3,column:38}},"3":{start:{line:6,column:0},end:{line:28,column:1}},"4":{start:{line:7,column:15},end:{line:7,column:17}},"5":{start:{line:7,column:30},end:{line:7,column:34}},"6":{start:{line:7,column:49},end:{line:7,column:50}},"7":{start:{line:8,column:2},end:{line:12,column:3}},"8":{start:{line:9,column:4},end:{line:11,column:55}},"9":{start:{line:13,column:2},end:{line:27,column:3}},"10":{start:{line:14,column:26},end:{line:22,column:6}},"11":{start:{line:23,column:21},end:{line:23,column:64}},"12":{start:{line:24,column:4},end:{line:24,column:51}},"13":{start:{line:26,column:4},end:{line:26,column:48}},"14":{start:{line:30,column:0},end:{line:37,column:1}},"15":{start:{line:31,column:2},end:{line:36,column:3}},"16":{start:{line:32,column:17},end:{line:32,column:51}},"17":{start:{line:33,column:4},end:{line:33,column:18}},"18":{start:{line:35,column:4},end:{line:35,column:48}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:18},end:{line:6,column:19}},loc:{start:{line:6,column:38},end:{line:28,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:30,column:18},end:{line:30,column:19}},loc:{start:{line:30,column:38},end:{line:37,column:1}},line:30}},branchMap:{"0":{loc:{start:{line:8,column:2},end:{line:12,column:3}},type:"if",locations:[{start:{line:8,column:2},end:{line:12,column:3}},{start:{line:8,column:2},end:{line:12,column:3}}],line:8},"1":{loc:{start:{line:9,column:13},end:{line:9,column:35}},type:"binary-expr",locations:[{start:{line:9,column:13},end:{line:9,column:29}},{start:{line:9,column:33},end:{line:9,column:35}}],line:9},"2":{loc:{start:{line:10,column:17},end:{line:10,column:43}},type:"binary-expr",locations:[{start:{line:10,column:17},end:{line:10,column:35}},{start:{line:10,column:39},end:{line:10,column:43}}],line:10},"3":{loc:{start:{line:11,column:19},end:{line:11,column:55}},type:"binary-expr",locations:[{start:{line:11,column:19},end:{line:11,column:50}},{start:{line:11,column:54},end:{line:11,column:55}}],line:11},"4":{loc:{start:{line:23,column:21},end:{line:23,column:64}},type:"cond-expr",locations:[{start:{line:23,column:32},end:{line:23,column:60}},{start:{line:23,column:63},end:{line:23,column:64}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e6658b6de0760a59d9c4aaa2ad5185a9c32e1030"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_6r58q40j0=function(){return actualCoverage;};}return actualCoverage;}cov_6r58q40j0();const db=(cov_6r58q40j0().s[0]++,require("../models"));const Food=(cov_6r58q40j0().s[1]++,db.foods);const sequelize=(cov_6r58q40j0().s[2]++,require("sequelize"));cov_6r58q40j0().s[3]++;exports.findAll=async(req,res)=>{cov_6r58q40j0().f[0]++;let search=(cov_6r58q40j0().s[4]++,""),pageSize=(cov_6r58q40j0().s[5]++,null),pageNumber=(cov_6r58q40j0().s[6]++,0);cov_6r58q40j0().s[7]++;if(req.query){cov_6r58q40j0().b[0][0]++;cov_6r58q40j0().s[8]++;search=(cov_6r58q40j0().b[1][0]++,req.query.search)||(cov_6r58q40j0().b[1][1]++,""),pageSize=(cov_6r58q40j0().b[2][0]++,req.query.pageSize)||(cov_6r58q40j0().b[2][1]++,null),pageNumber=(cov_6r58q40j0().b[3][0]++,req.query.pageNumber*pageSize)||(cov_6r58q40j0().b[3][1]++,0);}else{cov_6r58q40j0().b[0][1]++;}cov_6r58q40j0().s[9]++;try{const{count,rows}=(cov_6r58q40j0().s[10]++,await Food.findAndCountAll({limit:pageSize,offset:pageNumber,where:{name:sequelize.where(sequelize.fn('LOWER',sequelize.col('name')),'LIKE',search.toLowerCase()+'%')}}));const lastPage=(cov_6r58q40j0().s[11]++,pageSize?(cov_6r58q40j0().b[4][0]++,Math.floor(count/pageSize)):(cov_6r58q40j0().b[4][1]++,0));cov_6r58q40j0().s[12]++;res.send({data:[...rows],lastPage:lastPage});}catch(err){cov_6r58q40j0().s[13]++;res.status(500).send({message:err.message});}};cov_6r58q40j0().s[14]++;exports.findOne=async(req,res)=>{cov_6r58q40j0().f[1]++;cov_6r58q40j0().s[15]++;try{const data=(cov_6r58q40j0().s[16]++,await Food.findByPk(req.params.id));cov_6r58q40j0().s[17]++;res.send(data);}catch(err){cov_6r58q40j0().s[18]++;res.status(500).send({message:err.message});}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb2QuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJGb29kIiwiZm9vZHMiLCJzZXF1ZWxpemUiLCJleHBvcnRzIiwiZmluZEFsbCIsInJlcSIsInJlcyIsInNlYXJjaCIsInBhZ2VTaXplIiwicGFnZU51bWJlciIsInF1ZXJ5IiwiY291bnQiLCJyb3dzIiwiZmluZEFuZENvdW50QWxsIiwibGltaXQiLCJvZmZzZXQiLCJ3aGVyZSIsIm5hbWUiLCJmbiIsImNvbCIsInRvTG93ZXJDYXNlIiwibGFzdFBhZ2UiLCJNYXRoIiwiZmxvb3IiLCJzZW5kIiwiZGF0YSIsImVyciIsInN0YXR1cyIsIm1lc3NhZ2UiLCJmaW5kT25lIiwiZmluZEJ5UGsiLCJwYXJhbXMiLCJpZCJdLCJtYXBwaW5ncyI6IjJpR0FlWTt5RkFmWixLQUFNQSxDQUFBQSxFQUFFLHlCQUFHQyxPQUFPLENBQUMsV0FBRCxDQUFWLENBQVIsQ0FDQSxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHRixFQUFFLENBQUNHLEtBQU4sQ0FBVixDQUNBLEtBQU1DLENBQUFBLFNBQVMseUJBQUdILE9BQU8sQ0FBQyxXQUFELENBQVYsQ0FBZixDLHVCQUdBSSxPQUFPLENBQUNDLE9BQVIsQ0FBa0IsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHdCQUNwQyxHQUFJQyxDQUFBQSxNQUFNLHlCQUFHLEVBQUgsQ0FBVixDQUFpQkMsUUFBUSx5QkFBRyxJQUFILENBQXpCLENBQWtDQyxVQUFVLHlCQUFHLENBQUgsQ0FBNUMsQ0FEb0MsdUJBRXBDLEdBQUlKLEdBQUcsQ0FBQ0ssS0FBUixDQUFlLGtEQUNiSCxNQUFNLENBQUcsMkJBQUFGLEdBQUcsQ0FBQ0ssS0FBSixDQUFVSCxNQUFWLDhCQUFvQixFQUFwQixDQUFULENBQ0VDLFFBQVEsQ0FBRywyQkFBQUgsR0FBRyxDQUFDSyxLQUFKLENBQVVGLFFBQVYsOEJBQXNCLElBQXRCLENBRGIsQ0FFRUMsVUFBVSxDQUFHLDJCQUFBSixHQUFHLENBQUNLLEtBQUosQ0FBVUQsVUFBVixDQUF1QkQsUUFBdkIsOEJBQW1DLENBQW5DLENBRmYsQ0FHRCxDQUpELGdDQUZvQyx1QkFPcEMsR0FBSSxDQUNGLEtBQU0sQ0FBQ0csS0FBRCxDQUFRQyxJQUFSLDJCQUFnQixLQUFNWixDQUFBQSxJQUFJLENBQUNhLGVBQUwsQ0FBcUIsQ0FDL0NDLEtBQUssQ0FBRU4sUUFEd0MsQ0FFL0NPLE1BQU0sQ0FBRU4sVUFGdUMsQ0FHL0NPLEtBQUssQ0FBRSxDQUNMQyxJQUFJLENBQUVmLFNBQVMsQ0FBQ2MsS0FBVixDQUNKZCxTQUFTLENBQUNnQixFQUFWLENBQWEsT0FBYixDQUFzQmhCLFNBQVMsQ0FBQ2lCLEdBQVYsQ0FBYyxNQUFkLENBQXRCLENBREksQ0FFSixNQUZJLENBRUlaLE1BQU0sQ0FBQ2EsV0FBUCxHQUF1QixHQUYzQixDQURELENBSHdDLENBQXJCLENBQXRCLENBQU4sQ0FTQSxLQUFNQyxDQUFBQSxRQUFRLDBCQUFHYixRQUFRLDRCQUFHYyxJQUFJLENBQUNDLEtBQUwsQ0FBV1osS0FBSyxDQUFHSCxRQUFuQixDQUFILDZCQUFrQyxDQUFsQyxDQUFYLENBQWQsQ0FWRSx3QkFXRkYsR0FBRyxDQUFDa0IsSUFBSixDQUFTLENBQUNDLElBQUksQ0FBRSxDQUFDLEdBQUdiLElBQUosQ0FBUCxDQUFrQlMsUUFBUSxDQUFFQSxRQUE1QixDQUFULEVBQ0QsQ0FBQyxNQUFPSyxHQUFQLENBQVkseUJBQ1pwQixHQUFHLENBQUNxQixNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUIsQ0FBQ0ksT0FBTyxDQUFFRixHQUFHLENBQUNFLE9BQWQsQ0FBckIsRUFDRCxDQUNGLENBdEJELEMsd0JBd0JBekIsT0FBTyxDQUFDMEIsT0FBUixDQUFrQixNQUFPeEIsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLGdEQUNwQyxHQUFJLENBQ0YsS0FBTW1CLENBQUFBLElBQUksMEJBQUcsS0FBTXpCLENBQUFBLElBQUksQ0FBQzhCLFFBQUwsQ0FBY3pCLEdBQUcsQ0FBQzBCLE1BQUosQ0FBV0MsRUFBekIsQ0FBVCxDQUFWLENBREUsd0JBRUYxQixHQUFHLENBQUNrQixJQUFKLENBQVNDLElBQVQsRUFDRCxDQUFDLE1BQU9DLEdBQVAsQ0FBWSx5QkFDWnBCLEdBQUcsQ0FBQ3FCLE1BQUosQ0FBVyxHQUFYLEVBQWdCSCxJQUFoQixDQUFxQixDQUFDSSxPQUFPLENBQUVGLEdBQUcsQ0FBQ0UsT0FBZCxDQUFyQixFQUNELENBQ0YsQ0FQRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRiID0gcmVxdWlyZShcIi4uL21vZGVsc1wiKVxuY29uc3QgRm9vZCA9IGRiLmZvb2RzXG5jb25zdCBzZXF1ZWxpemUgPSByZXF1aXJlKFwic2VxdWVsaXplXCIpXG5cblxuZXhwb3J0cy5maW5kQWxsID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGxldCBzZWFyY2ggPSBcIlwiLCBwYWdlU2l6ZSA9IG51bGwsIHBhZ2VOdW1iZXIgPSAwXG4gIGlmIChyZXEucXVlcnkpIHtcbiAgICBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoIHx8IFwiXCIsXG4gICAgICBwYWdlU2l6ZSA9IHJlcS5xdWVyeS5wYWdlU2l6ZSB8fCBudWxsLFxuICAgICAgcGFnZU51bWJlciA9IHJlcS5xdWVyeS5wYWdlTnVtYmVyICogcGFnZVNpemUgfHwgMFxuICB9XG4gIHRyeSB7XG4gICAgY29uc3Qge2NvdW50LCByb3dzfSA9IGF3YWl0IEZvb2QuZmluZEFuZENvdW50QWxsKHtcbiAgICAgIGxpbWl0OiBwYWdlU2l6ZSxcbiAgICAgIG9mZnNldDogcGFnZU51bWJlcixcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIG5hbWU6IHNlcXVlbGl6ZS53aGVyZShcbiAgICAgICAgICBzZXF1ZWxpemUuZm4oJ0xPV0VSJywgc2VxdWVsaXplLmNvbCgnbmFtZScpKSxcbiAgICAgICAgICAnTElLRScsIHNlYXJjaC50b0xvd2VyQ2FzZSgpICsgJyUnKVxuICAgICAgfVxuICAgIH0pXG4gICAgY29uc3QgbGFzdFBhZ2UgPSBwYWdlU2l6ZSA/IE1hdGguZmxvb3IoY291bnQgLyBwYWdlU2l6ZSkgOiAwXG4gICAgcmVzLnNlbmQoe2RhdGE6IFsuLi5yb3dzXSwgbGFzdFBhZ2U6IGxhc3RQYWdlfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe21lc3NhZ2U6IGVyci5tZXNzYWdlfSlcbiAgfVxufVxuXG5leHBvcnRzLmZpbmRPbmUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgRm9vZC5maW5kQnlQayhyZXEucGFyYW1zLmlkKVxuICAgIHJlcy5zZW5kKGRhdGEpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHttZXNzYWdlOiBlcnIubWVzc2FnZX0pXG4gIH1cbn1cbiJdfQ==