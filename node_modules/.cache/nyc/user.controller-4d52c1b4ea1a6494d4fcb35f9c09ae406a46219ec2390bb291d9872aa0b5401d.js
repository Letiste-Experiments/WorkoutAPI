function cov_n6k7axzxn(){var path="/home/leo/workout-api/api/controllers/user.controller.js";var hash="c154ceb0aa465f56c316e3f8eefc7f89255769a8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/leo/workout-api/api/controllers/user.controller.js",statementMap:{"0":{start:{line:1,column:11},end:{line:1,column:31}},"1":{start:{line:2,column:13},end:{line:2,column:21}},"2":{start:{line:3,column:11},end:{line:3,column:26}},"3":{start:{line:6,column:0},end:{line:31,column:1}},"4":{start:{line:8,column:15},end:{line:17,column:3}},"5":{start:{line:20,column:2},end:{line:30,column:6}},"6":{start:{line:22,column:6},end:{line:22,column:34}},"7":{start:{line:23,column:6},end:{line:23,column:32}},"8":{start:{line:26,column:6},end:{line:29,column:8}},"9":{start:{line:34,column:0},end:{line:62,column:1}},"10":{start:{line:36,column:2},end:{line:40,column:3}},"11":{start:{line:37,column:4},end:{line:37,column:23}},"12":{start:{line:39,column:4},end:{line:39,column:25}},"13":{start:{line:42,column:2},end:{line:48,column:3}},"14":{start:{line:43,column:4},end:{line:45,column:6}},"15":{start:{line:44,column:6},end:{line:44,column:30}},"16":{start:{line:47,column:4},end:{line:47,column:32}},"17":{start:{line:49,column:2},end:{line:49,column:30}},"18":{start:{line:51,column:2},end:{line:60,column:6}},"19":{start:{line:53,column:6},end:{line:53,column:21}},"20":{start:{line:56,column:6},end:{line:59,column:8}},"21":{start:{line:65,column:0},end:{line:78,column:1}},"22":{start:{line:66,column:13},end:{line:66,column:26}},"23":{start:{line:68,column:2},end:{line:76,column:6}},"24":{start:{line:70,column:6},end:{line:70,column:20}},"25":{start:{line:73,column:6},end:{line:75,column:8}},"26":{start:{line:81,column:0},end:{line:83,column:1}},"27":{start:{line:86,column:0},end:{line:109,column:1}},"28":{start:{line:87,column:13},end:{line:87,column:26}},"29":{start:{line:89,column:2},end:{line:107,column:6}},"30":{start:{line:93,column:6},end:{line:101,column:7}},"31":{start:{line:94,column:8},end:{line:96,column:10}},"32":{start:{line:98,column:8},end:{line:100,column:10}},"33":{start:{line:104,column:6},end:{line:106,column:8}},"34":{start:{line:112,column:0},end:{line:127,column:1}},"35":{start:{line:114,column:2},end:{line:125,column:6}},"36":{start:{line:116,column:6},end:{line:118,column:8}},"37":{start:{line:121,column:6},end:{line:124,column:8}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:6,column:17},end:{line:6,column:18}},loc:{start:{line:6,column:37},end:{line:31,column:1}},line:6},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:10},end:{line:21,column:11}},loc:{start:{line:21,column:18},end:{line:24,column:5}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:25,column:11},end:{line:25,column:12}},loc:{start:{line:25,column:18},end:{line:30,column:5}},line:25},"3":{name:"(anonymous_3)",decl:{start:{line:34,column:18},end:{line:34,column:19}},loc:{start:{line:34,column:32},end:{line:62,column:1}},line:34},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:43},end:{line:43,column:44}},loc:{start:{line:43,column:49},end:{line:45,column:5}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:10},end:{line:52,column:11}},loc:{start:{line:52,column:18},end:{line:54,column:5}},line:52},"6":{name:"(anonymous_6)",decl:{start:{line:55,column:11},end:{line:55,column:12}},loc:{start:{line:55,column:18},end:{line:60,column:5}},line:55},"7":{name:"(anonymous_7)",decl:{start:{line:65,column:18},end:{line:65,column:19}},loc:{start:{line:65,column:32},end:{line:78,column:1}},line:65},"8":{name:"(anonymous_8)",decl:{start:{line:69,column:10},end:{line:69,column:11}},loc:{start:{line:69,column:18},end:{line:71,column:5}},line:69},"9":{name:"(anonymous_9)",decl:{start:{line:72,column:11},end:{line:72,column:12}},loc:{start:{line:72,column:18},end:{line:76,column:5}},line:72},"10":{name:"(anonymous_10)",decl:{start:{line:81,column:17},end:{line:81,column:18}},loc:{start:{line:81,column:31},end:{line:83,column:1}},line:81},"11":{name:"(anonymous_11)",decl:{start:{line:86,column:17},end:{line:86,column:18}},loc:{start:{line:86,column:31},end:{line:109,column:1}},line:86},"12":{name:"(anonymous_12)",decl:{start:{line:92,column:10},end:{line:92,column:11}},loc:{start:{line:92,column:17},end:{line:102,column:5}},line:92},"13":{name:"(anonymous_13)",decl:{start:{line:103,column:11},end:{line:103,column:12}},loc:{start:{line:103,column:18},end:{line:107,column:5}},line:103},"14":{name:"(anonymous_14)",decl:{start:{line:112,column:20},end:{line:112,column:21}},loc:{start:{line:112,column:34},end:{line:127,column:1}},line:112},"15":{name:"(anonymous_15)",decl:{start:{line:115,column:10},end:{line:115,column:11}},loc:{start:{line:115,column:18},end:{line:119,column:5}},line:115},"16":{name:"(anonymous_16)",decl:{start:{line:120,column:11},end:{line:120,column:12}},loc:{start:{line:120,column:18},end:{line:125,column:5}},line:120}},branchMap:{"0":{loc:{start:{line:28,column:10},end:{line:28,column:71}},type:"binary-expr",locations:[{start:{line:28,column:10},end:{line:28,column:21}},{start:{line:28,column:25},end:{line:28,column:71}}],line:28},"1":{loc:{start:{line:36,column:2},end:{line:40,column:3}},type:"if",locations:[{start:{line:36,column:2},end:{line:40,column:3}},{start:{line:36,column:2},end:{line:40,column:3}}],line:36},"2":{loc:{start:{line:42,column:2},end:{line:48,column:3}},type:"if",locations:[{start:{line:42,column:2},end:{line:48,column:3}},{start:{line:42,column:2},end:{line:48,column:3}}],line:42},"3":{loc:{start:{line:58,column:10},end:{line:58,column:70}},type:"binary-expr",locations:[{start:{line:58,column:10},end:{line:58,column:21}},{start:{line:58,column:25},end:{line:58,column:70}}],line:58},"4":{loc:{start:{line:93,column:6},end:{line:101,column:7}},type:"if",locations:[{start:{line:93,column:6},end:{line:101,column:7}},{start:{line:93,column:6},end:{line:101,column:7}}],line:93},"5":{loc:{start:{line:123,column:10},end:{line:123,column:74}},type:"binary-expr",locations:[{start:{line:123,column:10},end:{line:123,column:21}},{start:{line:123,column:25},end:{line:123,column:74}}],line:123}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c154ceb0aa465f56c316e3f8eefc7f89255769a8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_n6k7axzxn=function(){return actualCoverage;};}return actualCoverage;}cov_n6k7axzxn();const db=(cov_n6k7axzxn().s[0]++,require("../models"));const User=(cov_n6k7axzxn().s[1]++,db.users);const Op=(cov_n6k7axzxn().s[2]++,db.Sequelize.Op);// Create and save a new User
cov_n6k7axzxn().s[3]++;exports.create=async(req,res)=>{cov_n6k7axzxn().f[0]++;const user=(cov_n6k7axzxn().s[4]++,{firstname:req.body.firstname,lastname:req.body.lastname,email:req.body.email,password:req.body.password,password_confirmation:req.body.password_confirmation,password_digest:req.body.password_digest,age:req.body.age,gender:req.body.gender});cov_n6k7axzxn().s[5]++;User.create(user).then(data=>{cov_n6k7axzxn().f[1]++;cov_n6k7axzxn().s[6]++;req.session.userid=data.id;cov_n6k7axzxn().s[7]++;res.status(201).send(data);}).catch(err=>{cov_n6k7axzxn().f[2]++;cov_n6k7axzxn().s[8]++;res.status(500).json({message:(cov_n6k7axzxn().b[0][0]++,err.message)||(cov_n6k7axzxn().b[0][1]++,"Some error occurred while creating the user.")});});};// Retrieve all Users from the database 
cov_n6k7axzxn().s[9]++;exports.findAll=(req,res)=>{cov_n6k7axzxn().f[3]++;cov_n6k7axzxn().s[10]++;if(req.session.views){cov_n6k7axzxn().b[1][0]++;cov_n6k7axzxn().s[11]++;req.session.views++;}else{cov_n6k7axzxn().b[1][1]++;cov_n6k7axzxn().s[12]++;req.session.views=1;}cov_n6k7axzxn().s[13]++;if(req.session.userid){cov_n6k7axzxn().b[2][0]++;cov_n6k7axzxn().s[14]++;User.findByPk(req.session.userid).then(()=>{cov_n6k7axzxn().f[4]++;cov_n6k7axzxn().s[15]++;console.log("logged in");});}else{cov_n6k7axzxn().b[2][1]++;cov_n6k7axzxn().s[16]++;console.log("not logged in");}cov_n6k7axzxn().s[17]++;res.cookie("name","loutre");cov_n6k7axzxn().s[18]++;User.findAll().then(data=>{cov_n6k7axzxn().f[5]++;cov_n6k7axzxn().s[19]++;res.send(data);}).catch(err=>{cov_n6k7axzxn().f[6]++;cov_n6k7axzxn().s[20]++;res.status(500).send({message:(cov_n6k7axzxn().b[3][0]++,err.message)||(cov_n6k7axzxn().b[3][1]++,"Some error occurred while retrieving users.")});});};// Find a single Tutorial with the id in the request
cov_n6k7axzxn().s[21]++;exports.findOne=(req,res)=>{cov_n6k7axzxn().f[7]++;const id=(cov_n6k7axzxn().s[22]++,req.params.id);cov_n6k7axzxn().s[23]++;User.findByPk(id).then(data=>{cov_n6k7axzxn().f[8]++;cov_n6k7axzxn().s[24]++;res.send(data);}).catch(err=>{cov_n6k7axzxn().f[9]++;cov_n6k7axzxn().s[25]++;res.status(500).send({message:`Error retrieving User with id = ${id}`});});};// Update a User by the id in the request
cov_n6k7axzxn().s[26]++;exports.update=(req,res)=>{cov_n6k7axzxn().f[10]++;};// Delete the User with the id in the request
cov_n6k7axzxn().s[27]++;exports.delete=(req,res)=>{cov_n6k7axzxn().f[11]++;const id=(cov_n6k7axzxn().s[28]++,req.params.id);cov_n6k7axzxn().s[29]++;User.destroy({where:{id:id}}).then(num=>{cov_n6k7axzxn().f[12]++;cov_n6k7axzxn().s[30]++;if(num==1){cov_n6k7axzxn().b[4][0]++;cov_n6k7axzxn().s[31]++;res.send({message:"User was deleted successfully"});}else{cov_n6k7axzxn().b[4][1]++;cov_n6k7axzxn().s[32]++;res.status(500).send({message:`Cannot delete User with id = ${id}`});}}).catch(err=>{cov_n6k7axzxn().f[13]++;cov_n6k7axzxn().s[33]++;res.status(500).send({message:`Could not delete User with id = ${id}`});});};// Delete all Users from the database
cov_n6k7axzxn().s[34]++;exports.deleteAll=(req,res)=>{cov_n6k7axzxn().f[14]++;cov_n6k7axzxn().s[35]++;User.destroy({where:{},truncate:false}).then(nums=>{cov_n6k7axzxn().f[15]++;cov_n6k7axzxn().s[36]++;res.send({messsage:`${nums} Users were deleted successfully`});}).catch(err=>{cov_n6k7axzxn().f[16]++;cov_n6k7axzxn().s[37]++;res.status(500).send({message:(cov_n6k7axzxn().b[5][0]++,err.message)||(cov_n6k7axzxn().b[5][1]++,"Some error occured while removing all tutorials")});});};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJkYiIsInJlcXVpcmUiLCJVc2VyIiwidXNlcnMiLCJPcCIsIlNlcXVlbGl6ZSIsImV4cG9ydHMiLCJjcmVhdGUiLCJyZXEiLCJyZXMiLCJ1c2VyIiwiZmlyc3RuYW1lIiwiYm9keSIsImxhc3RuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInBhc3N3b3JkX2NvbmZpcm1hdGlvbiIsInBhc3N3b3JkX2RpZ2VzdCIsImFnZSIsImdlbmRlciIsInRoZW4iLCJkYXRhIiwic2Vzc2lvbiIsInVzZXJpZCIsImlkIiwic3RhdHVzIiwic2VuZCIsImNhdGNoIiwiZXJyIiwianNvbiIsIm1lc3NhZ2UiLCJmaW5kQWxsIiwidmlld3MiLCJmaW5kQnlQayIsImNvbnNvbGUiLCJsb2ciLCJjb29raWUiLCJmaW5kT25lIiwicGFyYW1zIiwidXBkYXRlIiwiZGVsZXRlIiwiZGVzdHJveSIsIndoZXJlIiwibnVtIiwiZGVsZXRlQWxsIiwidHJ1bmNhdGUiLCJudW1zIiwibWVzc3NhZ2UiXSwibWFwcGluZ3MiOiI0c05BZVk7eUZBZlosS0FBTUEsQ0FBQUEsRUFBRSx5QkFBR0MsT0FBTyxDQUFDLFdBQUQsQ0FBVixDQUFSLENBQ0EsS0FBTUMsQ0FBQUEsSUFBSSx5QkFBR0YsRUFBRSxDQUFDRyxLQUFOLENBQVYsQ0FDQSxLQUFNQyxDQUFBQSxFQUFFLHlCQUFHSixFQUFFLENBQUNLLFNBQUgsQ0FBYUQsRUFBaEIsQ0FBUixDQUVBO3VCQUNBRSxPQUFPLENBQUNDLE1BQVIsQ0FBaUIsTUFBT0MsR0FBUCxDQUFZQyxHQUFaLEdBQW9CLHdCQUVuQyxLQUFNQyxDQUFBQSxJQUFJLHlCQUFHLENBQ1hDLFNBQVMsQ0FBRUgsR0FBRyxDQUFDSSxJQUFKLENBQVNELFNBRFQsQ0FFWEUsUUFBUSxDQUFFTCxHQUFHLENBQUNJLElBQUosQ0FBU0MsUUFGUixDQUdYQyxLQUFLLENBQUVOLEdBQUcsQ0FBQ0ksSUFBSixDQUFTRSxLQUhMLENB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LEtBTkgsQ0FNU0MsR0FBRyxFQUFJLGlEQUNabkIsR0FBRyxDQUFDZ0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLENBQ25CSSxPQUFPLENBQ0wsMkJBQUFGLEdBQUcsQ0FBQ0UsT0FBSiw4QkFBZSxpREFBZixDQUZpQixDQUFyQixFQUlELENBWEgsRUFhRCxDQWZEIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGIgPSByZXF1aXJlKFwiLi4vbW9kZWxzXCIpXG5jb25zdCBVc2VyID0gZGIudXNlcnNcbmNvbnN0IE9wID0gZGIuU2VxdWVsaXplLk9wXG5cbi8vIENyZWF0ZSBhbmQgc2F2ZSBhIG5ldyBVc2VyXG5leHBvcnRzLmNyZWF0ZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXG4gIGNvbnN0IHVzZXIgPSB7XG4gICAgZmlyc3RuYW1lOiByZXEuYm9keS5maXJzdG5hbWUsXG4gICAgbGFzdG5hbWU6IHJlcS5ib2R5Lmxhc3RuYW1lLFxuICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmQsXG4gICAgcGFzc3dvcmRfY29uZmlybWF0aW9uOiByZXEuYm9keS5wYXNzd29yZF9jb25maXJtYXRpb24sXG4gICAgcGFzc3dvcmRfZGlnZXN0OiByZXEuYm9keS5wYXNzd29yZF9kaWdlc3QsXG4gICAgYWdlOiByZXEuYm9keS5hZ2UsXG4gICAgZ2VuZGVyOiByZXEuYm9keS5nZW5kZXIsXG4gIH1cblxuXG4gIFVzZXIuY3JlYXRlKHVzZXIpXG4gICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICByZXEuc2Vzc2lvbi51c2VyaWQgPSBkYXRhLmlkXG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZChkYXRhKVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgfHwgXCJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIGNyZWF0aW5nIHRoZSB1c2VyLlwiXG4gICAgICB9KVxuICAgIH0pXG59XG5cbi8vIFJldHJpZXZlIGFsbCBVc2VycyBmcm9tIHRoZSBkYXRhYmFzZSBcbmV4cG9ydHMuZmluZEFsbCA9IChyZXEsIHJlcykgPT4ge1xuXG4gIGlmIChyZXEuc2Vzc2lvbi52aWV3cykge1xuICAgIHJlcS5zZXNzaW9uLnZpZXdzKytcbiAgfSBlbHNlIHtcbiAgICByZXEuc2Vzc2lvbi52aWV3cyA9IDFcbiAgfVxuXG4gIGlmIChyZXEuc2Vzc2lvbi51c2VyaWQpIHtcbiAgICBVc2VyLmZpbmRCeVBrKHJlcS5zZXNzaW9uLnVzZXJpZCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcImxvZ2dlZCBpblwiKVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXCJub3QgbG9nZ2VkIGluXCIpXG4gIH1cbiAgcmVzLmNvb2tpZShcIm5hbWVcIiwgXCJsb3V0cmVcIilcblxuICBVc2VyLmZpbmRBbGwoKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgcmVzLnNlbmQoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICBlcnIubWVzc2FnZSB8fCBcIlNvbWUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB1c2Vycy5cIlxuICAgICAgfSlcbiAgICB9KVxuXG59XG5cbi8vIEZpbmQgYSBzaW5nbGUgVHV0b3JpYWwgd2l0aCB0aGUgaWQgaW4gdGhlIHJlcXVlc3RcbmV4cG9ydHMuZmluZE9uZSA9IChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBpZCA9IHJlcS5wYXJhbXMuaWRcblxuICBVc2VyLmZpbmRCeVBrKGlkKVxuICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgcmVzLnNlbmQoZGF0YSlcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiBgRXJyb3IgcmV0cmlldmluZyBVc2VyIHdpdGggaWQgPSAke2lkfWBcbiAgICAgIH0pXG4gICAgfSlcblxufVxuXG4vLyBVcGRhdGUgYSBVc2VyIGJ5IHRoZSBpZCBpbiB0aGUgcmVxdWVzdFxuZXhwb3J0cy51cGRhdGUgPSAocmVxLCByZXMpID0+IHtcblxufVxuXG4vLyBEZWxldGUgdGhlIFVzZXIgd2l0aCB0aGUgaWQgaW4gdGhlIHJlcXVlc3RcbmV4cG9ydHMuZGVsZXRlID0gKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZFxuXG4gIFVzZXIuZGVzdHJveSh7XG4gICAgd2hlcmU6IHtpZDogaWR9XG4gIH0pXG4gICAgLnRoZW4obnVtID0+IHtcbiAgICAgIGlmIChudW0gPT0gMSkge1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogXCJVc2VyIHdhcyBkZWxldGVkIHN1Y2Nlc3NmdWxseVwiXG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBkZWxldGUgVXNlciB3aXRoIGlkID0gJHtpZH1gXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogYENvdWxkIG5vdCBkZWxldGUgVXNlciB3aXRoIGlkID0gJHtpZH1gXG4gICAgICB9KVxuICAgIH0pXG5cbn1cblxuLy8gRGVsZXRlIGFsbCBVc2VycyBmcm9tIHRoZSBkYXRhYmFzZVxuZXhwb3J0cy5kZWxldGVBbGwgPSAocmVxLCByZXMpID0+IHtcblxuICBVc2VyLmRlc3Ryb3koe3doZXJlOiB7fSwgdHJ1bmNhdGU6IGZhbHNlfSlcbiAgICAudGhlbihudW1zID0+IHtcbiAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgbWVzc3NhZ2U6IGAke251bXN9IFVzZXJzIHdlcmUgZGVsZXRlZCBzdWNjZXNzZnVsbHlgXG4gICAgICB9KVxuICAgIH0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgfHwgXCJTb21lIGVycm9yIG9jY3VyZWQgd2hpbGUgcmVtb3ZpbmcgYWxsIHR1dG9yaWFsc1wiXG4gICAgICB9KVxuICAgIH0pXG5cbn1cbiJdfQ==